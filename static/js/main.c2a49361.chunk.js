(this.webpackJsonpprogectreact=this.webpackJsonpprogectreact||[]).push([[0],{107:function(e,t,c){},113:function(e,t,c){},114:function(e,t,c){},121:function(e,t,c){},122:function(e,t,c){},125:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(19),s=c.n(a),i=(c(107),c(21)),u=c(17),o=c(1),j=c.n(o),b=c(5),O=c(36),l=c(22),h=c(7),d=function(e){var t=e.onLogin,c=e.onSignUp,r=Object(n.useState)(""),a=Object(i.a)(r,2),s=a[0],u=a[1],o=Object(n.useState)(""),j=Object(i.a)(o,2),b=j[0],O=j[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:t?"Login":"SignUp"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u(""),O(""),t?t(s,b):c(s,b)},children:[Object(h.jsx)("input",{type:"text",value:s,onChange:function(e){u(e.target.value)}}),Object(h.jsx)("input",{type:"password",value:b,onChange:function(e){O(e.target.value)}}),Object(h.jsx)("input",{type:"submit"})]})]})},f=function(e){var t=e.text;return Object(h.jsx)("div",{children:t})},p=(c(113),c(114),"human"),m="idle",x="penging",v="success",g="failure",E=c(157),S=c(166),y=c(162),w=function(e){var t=e.onChange,c=e.inputRf,n=e.text,r=e.onClickChange;return Object(h.jsxs)(E.a,{className:"MessageListForm",onSubmit:t,children:[Object(h.jsx)(S.a,{autoFocus:!0,label:"Message",inputRef:c,className:"MessageListInput",value:n,onChange:r}),Object(h.jsx)(y.a,{type:"submit",variant:"outlined",size:"small",onClick:t,className:"MessageListBTN",children:"ADD"})]})},L=function(e){var t=e.onSubmit,c=Object(n.useRef)(null),r=Object(n.useState)(""),a=Object(i.a)(r,2),s=a[0],u=a[1],o=Object(n.useCallback)((function(e){u(e.target.value)}),[]);return Object(h.jsx)(w,{onChange:function(e){e.preventDefault(),t(s),c.current.focus()},inputRf:c,text:s.text,onClickChange:o})},C=c(161),A=c(23),T=c(90),k=c(69),I=c(78);Object(T.a)({apiKey:"AIzaSyBRGUA39gjO23_QpPKBd6hyH5c0fIwqmok",authDomain:"chat-with-react-fccaa.firebaseapp.com",databaseURL:"https://chat-with-react-fccaa-default-rtdb.europe-west1.firebasedatabase.app",projectId:"chat-with-react-fccaa",storageBucket:"chat-with-react-fccaa.appspot.com",messagingSenderId:"319658789973",appId:"1:319658789973:web:49ed28d56c0a3f8b3e18dc"});var N=Object(k.b)(),_=Object(I.a)(),R=function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)(N,t,c);case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.c)(N,t,c);case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.d)(N);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G="CHATS::ADD_CHAT",H="CHATS::DELETE_CHAT",M="CHATS::SET_CHAT",q=function(){return function(e){var t=Object(A.c)(_,"items");Object(A.b)(t,(function(t){var c,n=t.val();e((c=Object.values(n||{}),{type:M,payload:c}))}))}},U=function(){return function(e){var t=Object(A.c)(_,"items");Object(A.b)(t,(function(t){var c,n=t.val();e((c=Object.values(n||{}),{type:H,payload:c}))}))}},B=function(e){return e.items.items},P=function(e){return e.items.items.length},W=function(e){var t;return null===(t=e.items.items)||void 0===t?void 0:t[0].id},K=(c(85),c(163)),X=c(92),z=c.n(X),J=function(e){var t=e.id,c=e.name,n=e.onDelete;return Object(h.jsxs)(K.a,{className:"ListItem",children:[Object(h.jsx)(O.b,{to:"/chats/".concat(t),children:c}),Object(h.jsx)(z.a,{className:"ListBTN",onClick:n})]})},V="MESSAGESS::ADD_MESSAGE",Q="MESSAGESS::DELETE_MESSAGE",Y="MESSAGESS::SET_MESSAGES",Z=function(){return function(e){var t=Object(A.c)(_,"messagesList");Object(A.b)(t,(function(t){var c=t.val();e({type:Y,payload:c||{}})}))}},$=function(e,t,c){return function(n){var r="messagesList-".concat(Date.now()),a=Object(A.c)(_,"messagesList/".concat(c,"/").concat(r));Object(A.e)(a,{author:t,text:e,id:r})}},ee=function(e){var t=e.item,c=Object(l.h)().itemId,r=Object(u.c)(W),a=Object(u.c)(P),s=Object(l.g)(),i=Object(u.b)();Object(n.useEffect)((function(){i(U())}),[]);return Object(h.jsx)(J,{name:t.name,id:t.id,onDelete:function(){var e;i((e=t.id,function(){var t=Object(A.c)(_,"items/".concat(e));Object(A.d)(t,{id:e})})),i(function(e){return function(){var t=Object(A.c)(_,"messagesList/".concat(e));Object(A.d)(t,{itemId:e})}}(c)),c===t.id&&(1===!a?s.push("/chats/".concat(r)):s.push("/chats"))}})},te=function(){var e=Object(u.b)(),t=Object(n.useState)(""),c=Object(i.a)(t,2),r=c[0],a=c[1];return Object(h.jsxs)("form",{onSubmit:function(t){var c;t.preventDefault(),e((c=r,function(){var e="chats-".concat(Date.now()),t=Object(A.c)(_,"items/".concat(e));Object(A.e)(t,{id:e,name:c})})),a("")},children:[Object(h.jsx)(S.a,{autoFocus:!0,value:r,label:"New chat",type:"text",onChange:function(e){a(e.target.value)}}),Object(h.jsx)(y.a,{variant:"outlined",disabled:!r,type:"submit",children:"Add Chat"})]})},ce=function(e){var t=e.itemId,c=Object(u.c)(B);return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(C.a,{children:[(c||[]).map((function(e,c){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(ee,{item:e,itemId:t,id:e.id},e.id)})})),Object(h.jsx)(te,{})]})})};var ne,re=function(){var e=Object(l.h)().itemId,t=Object(u.b)(),c=Object(u.c)((function(e){return e.messagesList.messagesList})),r=(Object(n.useMemo)((function(){return t=e,function(e){return!!e.items.items.find((function(e){return t===e.id}))};var t}),[e]),Object(u.c)((function(e){return function(t){return!!t.items.items.find((function(t){return e===t.id}))}})));Object(n.useEffect)((function(){t(q()),t(Z())}),[]);var a=Object(n.useCallback)((function(c,n){t($(c,n,e)),null==e&&Object(A.d)($())}),[e]),s=Object(n.useCallback)((function(e){a(e,p)}),[a]);return Object(h.jsxs)("div",{className:"MessageList",children:[Object(h.jsx)(ce,{itemId:e}),!!e&&r&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(L,{onSubmit:s}),(Object.values(c[e]||{})||[]).map((function(e){return Object(h.jsx)(f,{text:e.text},e.id)}))]})]})},ae=c(11),se=c(167),ie=r.a.createContext({theme:"light",changeTheme:function(){}}),ue=function(e){return e.name},oe=function(e){return e.checkBox},je=function(e){return e.showName},be="PROFILE::TOGGLE_SHOW_NAME",Oe="PROFILE::CHANGE_NAME",le="PROFILE::CHECK_BOX",he="PROFILE::ON_AUTH",de="PROFILE::ON_LOGOUT",fe={type:le},pe=function(e){e?F():console.log("null")},me=function(){return function(e){var t=Object(A.c)(_,"user");Object(A.b)(t,(function(t){var c,n=t.val();console.log("-----------",n),e((c=Object.values(n.username||""),{type:he,payload:c}))}))}},xe=function(e){e.onLogaut;var t=Object(u.c)(je),c=Object(u.c)(ue),r=Object(n.useContext)(ie);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{style:{color:"light"===r.theme?"red":"blue"},children:"This is page of profile"}),t&&Object(h.jsx)("div",{children:c})]})},ve=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),s=Object(i.a)(a,2),o=(s[0],s[1],Object(u.b)());Object(n.useEffect)((function(){o(me())}),[]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("form",{onClick:function(e){e.preventDefault(),r(""),o(function(e){return function(t){Object(A.e)(Object(A.c)(_,"user"),{username:e})}}(c))},children:[Object(h.jsx)("input",{type:"text",value:c,onChange:function(e){r(e.target.value)}}),Object(h.jsx)("button",{children:"Submit"})]})})},ge=(ne=function(e){var t=e.theme,c=Object(u.c)(oe),n=Object(u.b)(),r=Object(u.b)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(xe,{theme:t}),Object(h.jsx)("button",{onClick:function(){r(pe)},children:"Logaut"}),Object(h.jsx)(ve,{}),Object(h.jsx)(se.a,{value:c,onChange:function(){n(fe)}}),c&&Object(h.jsx)("div",{children:"Check box is on"})]})},function(){for(var e=Object(n.useContext)(ie),t=arguments.length,c=new Array(t),r=0;r<t;r++)c[r]=arguments[r];return Object(h.jsx)(ne,Object(ae.a)(Object(ae.a)({},c),{},{theme:e}))}),Ee=(c(121),c(164)),Se="ARTICLES::GET_PENDING",ye="ARTICLES::GET_SUCCESS",we="ARTICLES::GET_FAILURE",Le=function(e){return e.news.request.status===x},Ce=function(e){return e.news.list},Ae=function(e){return e.news.request.error},Te=function(){var e=Object(u.b)(),t=Object(u.c)(Ce),c=Object(u.c)(Ae),r=Object(u.c)(Le),a=function(){e(function(){var e=Object(b.a)(j.a.mark((function e(t){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Se}),e.prev=1,e.next=4,fetch("https://api.spaceflightnewsapi.net/v3/articles");case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("error ".concat(c.status));case 7:return e.next=9,c.json();case 9:n=e.sent,t({type:ye,payload:n}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),t((r=e.t0.message,{type:we,payload:r}));case 17:case"end":return e.stop()}var r}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}())};return Object(n.useEffect)((function(){a()}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"News"}),c?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h2",{children:["Error: ",c]}),r&&Object(h.jsx)(Ee.a,{color:"secondary"}),Object(h.jsx)("button",{onClick:a,children:"Reflesh"})]}):t.map((function(e){return Object(h.jsx)("article",{children:Object(h.jsx)("h4",{children:e.title})},e.id)}))]})},ke=c(165),Ie="WEATHER//GET_WEATHER_LOADING",Ne="WEATHER//GET_WEATHER_SUCCESS",_e="WEATHER//GET_WEATHER_FAILURE",Re=function(){return function(e){e({type:Ie}),fetch("https://goweather.herokuapp.com/weather/Rome").then((function(e){if(!e.ok)throw new Error("Error status ".concat(e.status));return e.json()})).then((function(t){e({type:Ne,payload:t})})).catch((function(t){var c;console.log(t),e((c=t.message,{type:_e,payload:c}))}))}},De=function(e){return e.tempo.request.status===x},Fe=function(e){return e.tempo},Ge=function(e){return e.tempo.request.error},He=function(){var e=Object(u.c)(Fe),t=Object(u.c)(Ge),c=Object(u.c)(De),r=Object(u.b)();Object(n.useEffect)((function(){a()}),[]);var a=function(){r(Re())};return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Weather in the Rome"}),c&&Object(h.jsx)(ke.a,{}),t?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h3",{children:["Error: ",t]}),Object(h.jsx)(y.a,{onClick:a,children:"Refrech"})]}):Object(h.jsxs)("article",{children:[Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Description:"}),Object(h.jsx)("div",{children:e.list.description})]}),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Temperature:"}),Object(h.jsx)("div",{children:e.list.temperature})]}),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Wind :"}),Object(h.jsx)("div",{children:e.list.wind})]})]},e.list.id)]})},Me=c(75),qe=["authed"],Ue=function(e){var t=e.authed,c=Object(Me.a)(e,qe);return t?Object(h.jsx)(l.b,Object(ae.a)({},c)):Object(h.jsx)(l.a,{to:"/login"})},Be=["authed"],Pe=function(e){var t=e.authed,c=Object(Me.a)(e,Be);return t?Object(h.jsx)(l.a,{to:"/profile"}):Object(h.jsx)(l.b,Object(ae.a)({},c))},We=c(60),Ke="HOME::HANDEL_LOGIN",Xe="HOME::CHANGE_STATUS",ze="HOME::ERROR_LOGIN",Je=function(e,t){return{type:Xe,payload:{authed:!0,setAuthed:!0}}},Ve=function(e,t){return function(c){c(function(e,t){return{type:Ke,payload:{email:e,pass:t}}}(e,t));try{D(e,t)}catch(r){console.log("fallimento"),c((n=r.error,{type:ze,payload:n}))}var n}},Qe=(Object(We.c)(N,(function(e){return function(t){console.log(e),e&&t(Je)}})),function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(u.b)();Object(n.useEffect)((function(){return Object(We.c)(N,(function(e){console.log(e),r(!!e)}))}),[]);var s=function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(Ve(t,c));case 1:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),o=function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t,c);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,c){return e.apply(this,arguments)}}();return Object(h.jsxs)(O.a,{className:"router",children:[Object(h.jsx)("div",{className:"nav",children:Object(h.jsxs)("ul",{className:"links",children:[Object(h.jsx)("li",{className:"link",children:Object(h.jsx)(O.b,{to:"chats",children:"Chats"})}),Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{to:"profile",children:"Profile"})}),Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{to:"news",children:"News"})}),Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{to:"weather",children:"Weather"})}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{to:"login",children:"Login"})}),Object(h.jsx)("li",{children:Object(h.jsx)(O.b,{to:"signup",children:"Sign up"})})]})]})}),Object(h.jsxs)(l.d,{children:[Object(h.jsx)(Ue,{path:"/profile",exact:!0,authed:c,children:Object(h.jsx)(ge,{theme:null})}),Object(h.jsx)(Ue,{static:!0,path:"/chats/:itemId?",authed:c,children:Object(h.jsx)(re,{})}),Object(h.jsx)(l.b,{path:"/news",children:Object(h.jsx)(Te,{})}),Object(h.jsx)(l.b,{path:"/weather",children:Object(h.jsx)(He,{})}),Object(h.jsx)(Pe,{path:"/login",authed:c,children:Object(h.jsx)(d,{onLogin:s})}),Object(h.jsx)(Pe,{path:"/signup",authed:c,children:Object(h.jsx)(d,{onSignUp:o})}),Object(h.jsx)(l.b,{children:Object(h.jsx)("h3",{children:"Error: 404"})})]})]})}),Ye=(c(122),c(44)),Ze=c(93),$e=c(80),et=c(94),tt=c.n(et),ct=c(32),nt={items:[]},rt=c(4),at={messagesList:{}},st={showName:!1,checkBox:!1,name:"default",user:""},it={list:[],request:{error:null,status:m}},ut={list:[],request:{error:null,status:m}},ot={email:null,pass:null,authed:!1,setAuthed:!1,request:{error:null,status:m}},jt={key:"VeroNiksa",storage:tt.a,blacklist:["profile"]},bt=Object(Ye.b)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case be:return Object(ae.a)(Object(ae.a)({},e),{},{showName:!e.showName});case le:return Object(ae.a)(Object(ae.a)({},e),{},{checkBox:!e.checkBox});case Oe:return Object(ae.a)(Object(ae.a)({},e),{},{name:n});case he:case de:return Object(ae.a)(Object(ae.a)({},e),{},{user:n});default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case G:return Object(ae.a)(Object(ae.a)({},e),{},{items:[].concat(Object(ct.a)(e.items),[{id:"chat-".concat(Date.now()),name:n}])});case H:var r=e.items.filter((function(e){return e.id!==n}));return Object(ae.a)(Object(ae.a)({},e),{},{items:r});case M:return Object(ae.a)(Object(ae.a)({},e),{},{items:n});default:return e}},messagesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case V:return Object(ae.a)(Object(ae.a)({},e),{},{messagesList:Object(ae.a)(Object(ae.a)({},e.messagesList),{},Object(rt.a)({},n.itemId,[].concat(Object(ct.a)(e.messagesList[n.itemId]||[]),[{id:"message-".concat(Date.now()),text:n.text,author:n.author}])))});case Q:var r=e.messagesList[n.itemId].filter((function(e){return e.id!==n.id}));return Object(ae.a)(Object(ae.a)({},e),{},{messagesList:Object(ae.a)(Object(ae.a)({},e.messagesList),{},Object(rt.a)({},n.itemId,r))});case H:var a=Object(ae.a)({},e.messagesList);return delete e.messagesList[n],Object(ae.a)(Object(ae.a)({},e),{},{messagesList:a});case Y:return Object(ae.a)(Object(ae.a)({},e),{},{messagesList:n});default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case Se:return Object(ae.a)(Object(ae.a)({},e),{},{request:{error:null,status:x}});case ye:return Object(ae.a)(Object(ae.a)({},e),{},{request:Object(ae.a)(Object(ae.a)({},e.request),{},{status:v}),list:n});case we:return Object(ae.a)(Object(ae.a)({},e),{},{request:{error:n,status:g}});default:return e}},tempo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case Ie:return Object(ae.a)(Object(ae.a)({},e),{},{request:{error:null,status:x}});case Ne:return Object(ae.a)(Object(ae.a)({},e),{},{request:Object(ae.a)(Object(ae.a)({},e.request),{},{status:v}),list:n});case _e:return Object(ae.a)(Object(ae.a)({},e),{},{request:{error:n,status:g}});default:return e}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case Ke:return Object(ae.a)(Object(ae.a)({},e),{},{email:e.email,pass:e.pass});case Xe:return Object(ae.a)(Object(ae.a)({},e),{},{authed:n.authed,setAuthed:n.setAuthed});case ze:return Object(ae.a)(Object(ae.a)({},e),{},{request:{error:n,status:g}});default:return e}}}),Ot=Object($e.a)(jt,bt),lt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ye.c,ht=Object(Ye.d)(Ot,lt(Object(Ye.a)(Ze.a))),dt=Object($e.b)(ht),ft=c(95);var pt=function(){var e=Object(n.useState)("light"),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(n.useCallback)((function(){r((function(e){return"light"===e?"dark":"light"}))}),[]);return Object(h.jsx)(u.a,{store:ht,children:Object(h.jsx)(ft.a,{persistor:dt,children:Object(h.jsx)(ie.Provider,{value:{theme:c,changeTheme:a},children:Object(h.jsx)(Qe,{})})})})},mt=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,168)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(pt,{})}),document.getElementById("root")),mt()},85:function(e,t,c){}},[[125,1,2]]]);
//# sourceMappingURL=main.c2a49361.chunk.js.map