(this.webpackJsonpprogectreact=this.webpackJsonpprogectreact||[]).push([[0],{106:function(e,t,c){},112:function(e,t,c){},113:function(e,t,c){},120:function(e,t,c){},121:function(e,t,c){},122:function(e,t,c){},125:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(19),s=c.n(r),i=(c(106),c(21)),u=c(16),o=c(1),j=c.n(o),b=c(5),l=c(35),O=c(22),h=c(7),d=function(e){var t=e.onLogin,c=e.onSignUp,a=Object(n.useState)(""),r=Object(i.a)(a,2),s=r[0],u=r[1],o=Object(n.useState)(""),j=Object(i.a)(o,2),b=j[0],l=j[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:t?"Login":"SignUp"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u(""),l(""),t?t(s,b):c(s,b)},children:[Object(h.jsx)("input",{type:"text",value:s,onChange:function(e){u(e.target.value)}}),Object(h.jsx)("input",{type:"password",value:b,onChange:function(e){l(e.target.value)}}),Object(h.jsx)("input",{type:"submit"})]})]})},f=function(e){var t=e.text;return Object(h.jsx)("div",{children:t})},p=(c(112),c(113),"human"),m="idle",x="penging",g="success",v="failure",E=c(155),w=c(164),S=c(160),y=function(e){var t=e.onChange,c=e.inputRf,n=e.text,a=e.onClickChange;return Object(h.jsxs)(E.a,{className:"MessageListForm",onSubmit:t,children:[Object(h.jsx)(w.a,{autoFocus:!0,label:"Message",inputRef:c,className:"MessageListInput",value:n,onChange:a}),Object(h.jsx)(S.a,{type:"submit",variant:"outlined",size:"small",onClick:t,className:"MessageListBTN",children:"ADD"})]})},L=function(e){var t=e.onSubmit,c=Object(n.useRef)(null),a=Object(n.useState)(""),r=Object(i.a)(a,2),s=r[0],u=r[1],o=Object(n.useCallback)((function(e){u(e.target.value)}),[]);return Object(h.jsx)(y,{onChange:function(e){e.preventDefault(),t(s),c.current.focus()},inputRf:c,text:s.text,onClickChange:o})},C=c(159),A=c(23),T=c(87),k=c(66),I=c(88);Object(T.a)({apiKey:"AIzaSyBRGUA39gjO23_QpPKBd6hyH5c0fIwqmok",authDomain:"chat-with-react-fccaa.firebaseapp.com",databaseURL:"https://chat-with-react-fccaa-default-rtdb.europe-west1.firebasedatabase.app",projectId:"chat-with-react-fccaa",storageBucket:"chat-with-react-fccaa.appspot.com",messagingSenderId:"319658789973",appId:"1:319658789973:web:49ed28d56c0a3f8b3e18dc"});var N=Object(k.b)(),_=Object(I.a)(),R=function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)(N,t,c);case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.c)(N,t,c);case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.d)(N);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G="CHATS::ADD_CHAT",H="CHATS::DELETE_CHAT",M="CHATS::SET_CHAT",q=function(){return function(e){var t=Object(A.c)(_,"items");Object(A.b)(t,(function(t){var c,n=t.val();e((c=Object.values(n||{}),{type:M,payload:c}))}))}},U=function(){return function(e){var t=Object(A.c)(_,"items");Object(A.b)(t,(function(t){var c,n=t.val();e((c=Object.values(n||{}),{type:H,payload:c}))}))}},P=function(e){return e.items.items},B=function(e){return e.items.items.length},W=function(e){var t;return null===(t=e.items.items)||void 0===t?void 0:t[0].id},z=(c(82),c(161)),K=c(90),X=c.n(K),J=function(e){var t=e.id,c=e.name,n=e.onDelete;return Object(h.jsxs)(z.a,{className:"ListItem",children:[Object(h.jsx)(l.b,{to:"/chats/".concat(t),children:c}),Object(h.jsx)(X.a,{className:"ListBTN",onClick:n})]})},V="MESSAGESS::ADD_MESSAGE",Q="MESSAGESS::DELETE_MESSAGE",Y="MESSAGESS::SET_MESSAGES",Z=function(){return function(e){var t=Object(A.c)(_,"messagesList");Object(A.b)(t,(function(t){var c=t.val();e({type:Y,payload:c||{}})}))}},$=function(e,t,c){return function(n){var a="messagesList-".concat(Date.now()),r=Object(A.c)(_,"messagesList/".concat(c,"/").concat(a));Object(A.e)(r,{author:t,text:e,id:a})}},ee=function(e){var t=e.item,c=Object(O.h)().itemId,a=Object(u.c)(W),r=Object(u.c)(B),s=Object(O.g)(),i=Object(u.b)();Object(n.useEffect)((function(){i(U())}),[]);return Object(h.jsx)(J,{name:t.name,id:t.id,onDelete:function(){var e;i((e=t.id,function(){var t=Object(A.c)(_,"items/".concat(e));Object(A.d)(t,{id:e})})),i(function(e){return function(){var t=Object(A.c)(_,"messagesList/".concat(e));Object(A.d)(t,{itemId:e})}}(c)),c===t.id&&(1===!r?s.push("/chats/".concat(a)):s.push("/chats"))}})},te=function(){var e=Object(u.b)(),t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],r=c[1];return Object(h.jsxs)("form",{onSubmit:function(t){var c;t.preventDefault(),e((c=a,function(){var e="chats-".concat(Date.now()),t=Object(A.c)(_,"items/".concat(e));Object(A.e)(t,{id:e,name:c})})),r("")},children:[Object(h.jsx)(w.a,{autoFocus:!0,value:a,label:"New chat",type:"text",onChange:function(e){r(e.target.value)}}),Object(h.jsx)(S.a,{variant:"outlined",disabled:!a,type:"submit",children:"Add Chat"})]})},ce=function(e){var t=e.itemId,c=Object(u.c)(P);return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(C.a,{children:[(c||[]).map((function(e,c){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(ee,{item:e,itemId:t,id:e.id},e.id)})})),Object(h.jsx)(te,{})]})})};var ne,ae=function(){var e=Object(O.h)().itemId,t=Object(u.b)(),c=Object(u.c)((function(e){return e.messagesList.messagesList})),a=Object(u.c)((function(e){return function(t){return!!t.items.items.find((function(t){return e===t.id}))}}));Object(n.useEffect)((function(){t(q()),t(Z())}),[]);var r=Object(n.useCallback)((function(c,n){t($(c,n,e)),null==e&&Object(A.d)($())}),[e]),s=Object(n.useCallback)((function(e){r(e,p)}),[r]);return Object(h.jsxs)("div",{className:"MessageList",children:[Object(h.jsx)(ce,{itemId:e}),!!e&&a&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(L,{onSubmit:s}),(Object.values(c[e]||{})||[]).map((function(e){return Object(h.jsx)(f,{text:e.text},e.id)}))]})]})},re=c(11),se=a.a.createContext({theme:"light",changeTheme:function(){}}),ie="PROFILE::TOGGLE_SHOW_NAME",ue="PROFILE::CHANGE_NAME",oe="PROFILE::CHECK_BOX",je="PROFILE::ON_AUTH",be="PROFILE::ON_LOGOUT",le=function(e){e?F():console.log("null")},Oe=function(e){return e.name},he=function(e){return e.showName},de=function(e){e.onLogaut;var t=Object(u.c)(he),c=Object(u.c)(Oe),a=Object(n.useContext)(se);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{style:{color:"light"===a.theme?"black":"blue"},children:"This is page of profile"}),t&&Object(h.jsx)("div",{children:c})]})},fe=(c(120),ne=function(e){var t=e.theme,c=Object(u.b)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"}),Object(h.jsx)("button",{className:"Logout",onClick:function(){c(le)},children:"Logout"}),Object(h.jsx)(de,{theme:t}),Object(h.jsx)("img",{className:"animate__zoomIn",src:"https://picsum.photos/300"})]})},function(){for(var e=Object(n.useContext)(se),t=arguments.length,c=new Array(t),a=0;a<t;a++)c[a]=arguments[a];return Object(h.jsx)(ne,Object(re.a)(Object(re.a)({},c),{},{theme:e}))}),pe=(c(121),c(162)),me="ARTICLES::GET_PENDING",xe="ARTICLES::GET_SUCCESS",ge="ARTICLES::GET_FAILURE",ve=function(e){return e.news.request.status===x},Ee=function(e){return e.news.list},we=function(e){return e.news.request.error},Se=function(){var e=Object(u.b)(),t=Object(u.c)(Ee),c=Object(u.c)(we),a=Object(u.c)(ve),r=function(){e(function(){var e=Object(b.a)(j.a.mark((function e(t){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:me}),e.prev=1,e.next=4,fetch("https://api.spaceflightnewsapi.net/v3/articles");case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("error ".concat(c.status));case 7:return e.next=9,c.json();case 9:n=e.sent,t({type:xe,payload:n}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t((a=e.t0.message,{type:ge,payload:a}));case 16:case"end":return e.stop()}var a}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}())};return Object(n.useEffect)((function(){r()}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"News"}),c?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h2",{children:["Error: ",c]}),a&&Object(h.jsx)(pe.a,{color:"secondary"}),Object(h.jsx)("button",{onClick:r,children:"Reflesh"})]}):t.map((function(e){return Object(h.jsx)("article",{children:Object(h.jsx)("h4",{children:e.title})},e.id)}))]})},ye=c(163),Le="WEATHER//GET_WEATHER_LOADING",Ce="WEATHER//GET_WEATHER_SUCCESS",Ae="WEATHER//GET_WEATHER_FAILURE",Te=function(){return function(e){e({type:Le}),fetch("https://goweather.herokuapp.com/weather/Rome").then((function(e){if(!e.ok)throw new Error("Error status ".concat(e.status));return e.json()})).then((function(t){e({type:Ce,payload:t})})).catch((function(t){var c;console.log(t),e((c=t.message,{type:Ae,payload:c}))}))}},ke=function(e){return e.tempo.request.status===x},Ie=function(e){return e.tempo},Ne=function(e){return e.tempo.request.error},_e=function(){var e=Object(u.c)(Ie),t=Object(u.c)(Ne),c=Object(u.c)(ke),a=Object(u.b)();Object(n.useEffect)((function(){r()}),[]);var r=function(){a(Te())};return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Weather in the Rome"}),c&&Object(h.jsx)(ye.a,{}),t?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h3",{children:["Error: ",t]}),Object(h.jsx)(S.a,{onClick:r,children:"Refrech"})]}):Object(h.jsxs)("article",{children:[Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Description:"}),Object(h.jsx)("p",{children:e.list.description})]}),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Temperature:"}),Object(h.jsx)("p",{children:e.list.temperature})]}),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Wind :"}),Object(h.jsx)("p",{children:e.list.wind})]})]},e.list.id)]})},Re=c(74),De=["authed"],Fe=function(e){var t=e.authed,c=Object(Re.a)(e,De);return t?Object(h.jsx)(O.b,Object(re.a)({},c)):Object(h.jsx)(O.a,{to:"/login"})},Ge=["authed"],He=function(e){var t=e.authed,c=Object(Re.a)(e,Ge);return t?Object(h.jsx)(O.a,{to:"/profile"}):Object(h.jsx)(O.b,Object(re.a)({},c))},Me=c(56),qe="HOME::HANDEL_LOGIN",Ue="HOME::CHANGE_STATUS",Pe="HOME::ERROR_LOGIN",Be=function(e,t){return{type:Ue,payload:{authed:!0,setAuthed:!0}}},We=function(e,t){return function(c){c(function(e,t){return{type:qe,payload:{email:e,pass:t}}}(e,t));try{D(e,t)}catch(a){console.log("fallimento"),c((n=a.error,{type:Pe,payload:n}))}var n}},ze=(Object(Me.c)(N,(function(e){return function(t){console.log(e),e&&t(Be)}})),function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(u.b)();Object(n.useEffect)((function(){return Object(Me.c)(N,(function(e){a(!!e)}))}),[]);var s=function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(We(t,c));case 1:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),o=function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t,c);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,c){return e.apply(this,arguments)}}();return Object(h.jsxs)(l.a,{className:"router",children:[Object(h.jsx)("div",{className:"nav",children:Object(h.jsxs)("ul",{className:"links",children:[Object(h.jsx)("li",{className:"link",children:Object(h.jsx)(l.b,{to:"chats",children:"Chats"})}),Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"profile",children:"Profile"})}),Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"news",children:"News"})}),Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"weather",children:"Weather"})}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"login",children:"Login"})}),Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"signup",children:"Sign up"})})]})]})}),Object(h.jsxs)(O.d,{children:[Object(h.jsx)(Fe,{path:"/profile",exact:!0,authed:c,children:Object(h.jsx)(fe,{theme:null})}),Object(h.jsx)(Fe,{static:!0,path:"/chats/:itemId?",authed:c,children:Object(h.jsx)(ae,{})}),Object(h.jsx)(O.b,{path:"/news",children:Object(h.jsx)(Se,{})}),Object(h.jsx)(O.b,{path:"/weather",children:Object(h.jsx)(_e,{})}),Object(h.jsx)(He,{path:"/login",authed:c,children:Object(h.jsx)(d,{onLogin:s})}),Object(h.jsx)(He,{path:"/signup",authed:c,children:Object(h.jsx)(d,{onSignUp:o})}),Object(h.jsx)(O.b,{children:Object(h.jsx)(d,{path:"/profile"})})]})]})}),Ke=(c(122),c(42)),Xe=c(91),Je=c(78),Ve=c(92),Qe=c.n(Ve),Ye=c(32),Ze={items:[]},$e=c(4),et={messagesList:{}},tt={showName:!1,checkBox:!1,name:"default",user:""},ct={list:[],request:{error:null,status:m}},nt={list:[],request:{error:null,status:m}},at={email:null,pass:null,authed:!1,setAuthed:!1,request:{error:null,status:m}},rt={key:"VeroNiksa",storage:Qe.a,blacklist:["profile"]},st=Object(Ke.b)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case ie:return Object(re.a)(Object(re.a)({},e),{},{showName:!e.showName});case oe:return Object(re.a)(Object(re.a)({},e),{},{checkBox:!e.checkBox});case ue:return Object(re.a)(Object(re.a)({},e),{},{name:n});case je:case be:return Object(re.a)(Object(re.a)({},e),{},{user:n});default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case G:return Object(re.a)(Object(re.a)({},e),{},{items:[].concat(Object(Ye.a)(e.items),[{id:"chat-".concat(Date.now()),name:n}])});case H:var a=e.items.filter((function(e){return e.id!==n}));return Object(re.a)(Object(re.a)({},e),{},{items:a});case M:return Object(re.a)(Object(re.a)({},e),{},{items:n});default:return e}},messagesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case V:return Object(re.a)(Object(re.a)({},e),{},{messagesList:Object(re.a)(Object(re.a)({},e.messagesList),{},Object($e.a)({},n.itemId,[].concat(Object(Ye.a)(e.messagesList[n.itemId]||[]),[{id:"message-".concat(Date.now()),text:n.text,author:n.author}])))});case Q:var a=e.messagesList[n.itemId].filter((function(e){return e.id!==n.id}));return Object(re.a)(Object(re.a)({},e),{},{messagesList:Object(re.a)(Object(re.a)({},e.messagesList),{},Object($e.a)({},n.itemId,a))});case H:var r=Object(re.a)({},e.messagesList);return delete e.messagesList[n],Object(re.a)(Object(re.a)({},e),{},{messagesList:r});case Y:return Object(re.a)(Object(re.a)({},e),{},{messagesList:n});default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case me:return Object(re.a)(Object(re.a)({},e),{},{request:{error:null,status:x}});case xe:return Object(re.a)(Object(re.a)({},e),{},{request:Object(re.a)(Object(re.a)({},e.request),{},{status:g}),list:n});case ge:return Object(re.a)(Object(re.a)({},e),{},{request:{error:n,status:v}});default:return e}},tempo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case Le:return Object(re.a)(Object(re.a)({},e),{},{request:{error:null,status:x}});case Ce:return Object(re.a)(Object(re.a)({},e),{},{request:Object(re.a)(Object(re.a)({},e.request),{},{status:g}),list:n});case Ae:return Object(re.a)(Object(re.a)({},e),{},{request:{error:n,status:v}});default:return e}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case qe:return Object(re.a)(Object(re.a)({},e),{},{email:e.email,pass:e.pass});case Ue:return Object(re.a)(Object(re.a)({},e),{},{authed:n.authed,setAuthed:n.setAuthed});case Pe:return Object(re.a)(Object(re.a)({},e),{},{request:{error:n,status:v}});default:return e}}}),it=Object(Je.a)(rt,st),ut=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ke.c,ot=Object(Ke.d)(it,ut(Object(Ke.a)(Xe.a))),jt=Object(Je.b)(ot),bt=c(93);var lt=function(){var e=Object(n.useState)("light"),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useCallback)((function(){a((function(e){return"light"===e?"dark":"light"}))}),[]);return Object(h.jsx)(u.a,{store:ot,children:Object(h.jsx)(bt.a,{persistor:jt,children:Object(h.jsx)(se.Provider,{value:{theme:c,changeTheme:r},children:Object(h.jsx)(ze,{})})})})},Ot=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,165)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(lt,{})}),document.getElementById("root")),Ot()},82:function(e,t,c){}},[[125,1,2]]]);
//# sourceMappingURL=main.94b03be4.chunk.js.map